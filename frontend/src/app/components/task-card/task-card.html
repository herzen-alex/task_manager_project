<div class="task-card" [class.done]="task.done" [ngClass]="task.priority">

  <h3>{{ task.title }}</h3>
  <p>{{ task.description }}</p>

  <!-- ğŸ“… Ğ´Ğ°Ñ‚Ñ‹ -->
  <small>ğŸ•’ Created: {{ task.createdAt | date:'dd/MM/yyyy' }}</small><br />
  <small *ngIf="task.dueDate">â° Due: {{ task.dueDate | date:'dd/MM/yyyy' }}</small>

  <!-- ğŸ“Š Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ -->
  <div *ngIf="task.subTasks?.length" class="progress-wrapper">
    <small>Progress: {{ progress }}%</small>
    <progress [value]="progress" max="100"></progress>
  </div>

  <!-- âœ… ÑĞ°Ğ±Ñ‚Ğ°ÑĞºĞ¸ -->
  <ul *ngIf="task.subTasks?.length" class="subtask-list">
    <li *ngFor="let sub of task.subTasks">
      <input type="checkbox" [(ngModel)]="sub.done" (change)="updateProgress()" />
      <span [class.done]="sub.done">{{ sub.title }}</span>
    </li>
  </ul>

  <!-- â• Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ°Ğ±Ñ‚Ğ°ÑĞº -->
  <div class="subtask-input">
    <input [(ngModel)]="newSubTaskTitle" placeholder="New subtask" />
    <button (click)="addSubTask()">+</button>
  </div>

  <div class="actions">
    <button (click)="toggleDone.emit(task)">
      {{ task.done ? 'Undo' : 'Done' }}
    </button>
    <button (click)="delete.emit(task)">Delete</button>
  </div>
</div>
